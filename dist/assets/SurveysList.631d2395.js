import{S as v}from"./form.d37e05cc.js";import{S as y}from"./SurveysListItem.b029a69f.js";import{_ as S,r as g,o as i,d as h,b as s,t as p,a as o,w as r,e as d,F as f,f as w,c as b,g as V,v as D}from"./index.7ed09931.js";import{a as T,V as l}from"./VRow.59953028.js";import"./index.04c52f7c.js";import"./VSwitch.daccc5ad.js";import"./VBtn.f91e9bca.js";const L={name:"surveys-list",data(){return{surveys:[],message:"Manage surveys",showToggle:!0}},components:{SurveysListItem:y},methods:{goToViewSurvey(e){this.$router.push({name:"viewSurvey",params:{id:e.id}})},gotToDeleteSurvey(e){v.deleteSurvey(e.id).then(()=>{this.retrieveSurveys()}).catch(n=>{this.message=n.response.data.message})},onPublishSurvey(e){const n={id:e.id,isPublished:e.makeLive};v.handlePublish(n).then(u=>{u.status===200&&this.retrieveSurveys()}).catch(u=>{this.message=u.response.data.message})},retrieveSurveys(){v.getSurveys().then(e=>{this.surveys=e.data}).catch(e=>{this.message=e.response.data.message})}},mounted(){this.retrieveSurveys()}},k={class:"landing_page"},P={class:"heading_wrapper"},O=s("h1",{class:"primary_heading"},"Surveys List",-1),x={key:0,class:"list_table_header"},B=s("h4",null,"Title",-1),C=s("h4",null,"Description",-1),I=s("h4",null,"Status",-1),N=s("h4",null,"View",-1),R=s("h4",null,"Delete",-1),Y={key:1,class:"list_table_body"},E={class:"list_table_body no_results"};function F(e,n,u,A,t,c){const m=g("SurveysListItem");return i(),h("div",k,[s("div",P,[O,s("h4",null,p(t.message),1)]),o(T,{class:"list_table"},{default:r(()=>[t.surveys.length>0?(i(),h("div",x,[o(l,{cols:"9",sm:"2"},{default:r(()=>[B]),_:1}),o(l,{cols:"9",sm:"2"},{default:r(()=>[C]),_:1}),o(l,{cols:"9",sm:"2"},{default:r(()=>[I]),_:1}),o(l,{cols:"9",sm:"1"},{default:r(()=>[N]),_:1}),o(l,{cols:"9",sm:"1"},{default:r(()=>[R]),_:1})])):d("",!0),t.surveys.length>0?(i(),h("div",Y,[(i(!0),h(f,null,w(t.surveys,a=>(i(),b(m,{key:a.id,survey:a,onDeleteSurvey:_=>c.gotToDeleteSurvey(a),onViewSurvey:_=>c.goToViewSurvey(a),onOnPublishSurvey:_=>c.onPublishSurvey(a),showToggle:t.showToggle},null,8,["survey","onDeleteSurvey","onViewSurvey","onOnPublishSurvey","showToggle"]))),128))])):d("",!0),V(s("h3",E," SORRY NO SURVEYS TO DISPLAY ",512),[[D,t.surveys.length<=0]])]),_:1})])}var J=S(L,[["render",F]]);export{J as default};
